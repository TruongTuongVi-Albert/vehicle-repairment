def get_technician_data(cursor):
    # Pending slips (Waiting for repair)
    cursor.execute("""
        SELECT rs.*, c.license_plate, c.owner_name, c.vehicle_type, c.color
        FROM reception_slips rs
        JOIN cars c ON rs.car_id = c.id
        WHERE rs.status IN ('pending', 'waiting')
        ORDER BY rs.reception_date ASC
    """)
    pending_slips = cursor.fetchall()

    # My active repairs
    cursor.execute("""
        SELECT r.id as repair_id, rs.id as reception_id, rs.status, 
               c.license_plate, c.owner_name, c.vehicle_type, c.color, rs.reception_date
        FROM repair_slips r
        JOIN reception_slips rs ON r.reception_slip_id = rs.id
        JOIN cars c ON rs.car_id = c.id
        WHERE r.technician_id = %s AND rs.status = 'repairing'
        ORDER BY r.date_created DESC
    """, (session['user_id'],))
    my_repairs = cursor.fetchall()

    return pending_slips, my_repairs
